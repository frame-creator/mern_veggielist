{"version":3,"sources":["elements/hooks/auth-hook.js","elements/components/uielements/Card.js","elements/components/formelements/Button.js","elements/components/uielements/Backdrop.js","elements/components/uielements/Modal.js","elements/components/uielements/Map.js","places/components/PlaceItem.js","places/components/PlaceList.js","elements/components/uielements/ErrorModal.js","elements/components/uielements/LoadingSpinner.js","elements/hooks/http-hook.js","places/pages/Places.js","user/components/UserItem.js","user/components/UserContainer.js","user/pages/User.js","elements/context/auth-context.js","places/components/UserPlaceItem.js","places/components/UserPlaceList.js","places/pages/UserPlaces.js","places/pages/UserAndUserPlaces.js","elements/util/validators.js","elements/components/formelements/Input.js","elements/hooks/form-hook.js","places/pages/NewPlace.js","elements/navigation/MainHeader.js","elements/navigation/NavLinks.js","elements/navigation/MainNavigaton.js","elements/components/formelements/ImageUpload.js","user/pages/Auth.js","places/pages/UpdatePlace.js","App.js","index.js"],"names":["logoutTimer","Card","props","className","style","children","Button","href","size","inverse","danger","to","exact","type","onClick","disabled","Backdrop","ReactDOM","createPortal","document","getElementById","ModalOverlay","content","headerClass","header","onSubmit","event","preventDefault","contentClass","footerClass","footer","Modal","Fragment","show","onCancel","CSSTransition","in","mountOnEnter","unmountOnExit","timeout","classNames","Map","mapRef","useRef","center","zoom","useEffect","map","window","google","maps","current","Marker","position","ref","PlaceItem","useState","showMap","setShowMap","closeMapHandler","address","coordinates","description","src","image","alt","title","id","PlaceList","items","length","place","key","creatorId","creator","location","onDelete","onDeletePlace","ErrorModal","onClear","error","LoadingSpinner","asOverlay","useHttpClient","isLoading","setIsLoading","setError","activeHttpRequests","sendRequest","useCallback","url","a","method","body","headers","httpAbortCtrl","AbortController","push","fetch","signal","response","json","responseData","filter","reqCtrl","ok","Error","message","forEach","abortCtrl","abort","clearError","Places","loadedPlaces","setLoadedPlaces","places","fetchPlaces","UserItem","name","email","UserContainer","user","User","loadedUser","setLoadedUser","users","fetchUser","AuthContext","createContext","isLoggedIn","userId","token","login","logout","UserPlaceItem","auth","useContext","showConfirmModal","setShowConfirmModal","cancelDeleteHandler","confirmDeleteHandler","Authorization","UserPlaceList","UserPlaces","loadedUserPlaces","setLoadedUserPlaces","useParams","fetchUserPlaces","deletedPlaceId","prevPlaces","UserAndUserPlaces","VALIDATOR_MINLENGTH","val","validate","value","validators","isValid","validator","trim","test","inputReducer","state","action","isTouched","Input","useReducer","initialValue","initailValid","inputState","dispatch","onInput","changeHandler","target","touchHandler","element","placeholder","onChange","onBlur","rows","htmlFor","label","errorText","formReducer","formIsValid","inputId","inputs","useForm","initialInputs","InitialFormValidity","formState","inputData","formValidity","NewPlace","inputHandler","console","log","MainHeader","NavLinks","MainNavigation","ImageUpload","file","setFile","previewUrl","setPreviewUrl","setIsValid","filePickerRef","fileReader","FileReader","onload","result","readAsDataURL","display","accept","pickedFile","fileIsValid","files","click","Auth","isLoginMode","setIsLoginMode","password","setFormData","authSubmitHandler","JSON","stringify","formData","FormData","append","undefined","prevMode","DUMMY_PLACES","lat","lng","UpdatePlace","placeId","identifiedPlace","find","p","initialValid","App","routes","setToken","tokenExpirationDate","setTokenExpirationDate","setUserId","uid","expirationDate","Date","getTime","localStorage","setItem","expiration","toISOString","removeItem","remainingTime","setTimeout","clearTimeout","storedData","parse","getItem","useAuth","path","Provider","render"],"mappings":"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","file":"static/js/main.e987c37b.chunk.js","sourcesContent":["import {useState, useCallback, useEffect} from 'react';\nlet logoutTimer;\n\nexport const useAuth = () =>  {\n    const [token, setToken] = useState(false);\n    const [tokenExpirationDate, setTokenExpirationDate] = useState();\n    const [userId, setUserId] = useState(false);\n\n    const login = useCallback((uid, token, expirationDate) => {\n        setToken(token) ;\n        setUserId(uid);\n        const tokenExpirationDate =\n        expirationDate || new Date(new Date().getTime() + 1000 * 60 * 60);\n        setTokenExpirationDate(tokenExpirationDate);\n        localStorage.setItem(\n            'userData',\n            JSON.stringify({\n                userId: uid,\n                token: token,\n                expiration: tokenExpirationDate.toISOString()\n            })\n        );\n    }, []);\n\n    const logout = useCallback(() => {\n        setToken(null);\n        setTokenExpirationDate(null);\n        setUserId(null);\n        localStorage.removeItem('userData');\n    }, []);\n\n    useEffect(() => {\n        if (token && tokenExpirationDate) {\n            const remainingTime = tokenExpirationDate.getTime() - new Date().getTime();\n            logoutTimer = setTimeout(logout, remainingTime);\n\n        } else {\n            clearTimeout(logoutTimer);\n        }\n    }, [token, logout, tokenExpirationDate]);\n\n    useEffect(() => {\n        const storedData = JSON.parse(localStorage.getItem('userData'));\n        if (\n            storedData &&\n            storedData.token &&\n            new Date(storedData.expiration) > new Date()\n\n        ) {\n            login(storedData.userId, storedData.token, new Date(storedData.expiration));\n\n        }\n    }, [login]);\n    return {token, login, logout, userId};\n\n};","import React from 'react';\nimport './Card.css';\n\n\nconst Card = props => {\n    return (\n    <div className={`card ${props.className}`} style={props.style}>\n    {props.children}\n    </div>\n    );\n};\n\nexport default Card;","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport './Button.css';\nconst Button = props => {\n    if(props.href) {\n        return (\n            <a \n            className ={`button button--{${props.size || 'default'}\n    ${props.inverse && 'button--inverse'} \n    ${props.danger && 'button--danger'}`}\n    href={props.href}\n    >\n        {props.children}\n    </a>\n        );\n    }\n    if (props.to) {\n        return (\n<Link \nto={props.to}\nexact={props.exact}\nclassName={`button button--{${props.size || 'default'}\n${props.inverse && 'button--inverse'} \n${props.danger && 'button--danger'}`}\n>\n    {props.children}\n</Link>\n        );\n    }\n    return (\n        <button\n        className={`button button--{${props.size || 'default'}\n        ${props.inverse && 'button--inverse'} \n        ${props.danger && 'button--danger'}`}\n        type={props.type}\n        onClick={props.onClick}\n        disabled={props.disabled}\n        >\n            {props.children}\n        </button>\n    ); \n    };\n\n    export default Button;","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './Backdrop.css';\n\nconst Backdrop = props => {\n    return ReactDOM.createPortal(\n        <div className=\"backdrop\" onClick={props.onClick}></div>,\n        document.getElementById('backdrop-hook')\n    );\n};\n\nexport default Backdrop;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {CSSTransition} from 'react-transition-group';\nimport './Modal.css';\nimport Backdrop from './Backdrop';\n\n\nconst ModalOverlay = props => {\n    const content = (\n        <div className={`modal ${props.className}`} style={props.style}>\n            <header className={`modal__header ${props.headerClass}`}>\n                <h2>{props.header}</h2>\n            </header>\n            <form \n            onSubmit={\n                props.onSubmit ? props.onSubmit : event => event.preventDefault()\n            }\n            >\n                <div className={`modal__content ${props.contentClass}`}>\n                    {props.children}\n                </div>\n                <footer className={`modal__footer ${props.footerClass}`}>\n                    {props.footer}\n                </footer>\n            </form>\n            \n            \n            </div>\n    );\n    return ReactDOM.createPortal(content, document.getElementById('modal-hook'));\n        };\n    const Modal = props => {\n        return (\n            <React.Fragment>\n                {props.show && <Backdrop onClick={props.onCancel}/>}\n           <CSSTransition\n           in={props.show}\n           mountOnEnter\n           unmountOnExit\n           timeout={200}\n           classNames=\"modal\"\n           >\n           <ModalOverlay {...props}/>\n           </CSSTransition>\n           </React.Fragment>\n        );\n    };\n\n    export default Modal;\n","import React, {useRef, useEffect} from 'react';\nimport './Map.css';\n\nconst Map = props => {\n    const mapRef = useRef();\n\n\nconst {center, zoom} = props;\n\nuseEffect (() => {\n    const map = new window.google.maps.Map(mapRef.current, {\n        center: center,\n        zoom: zoom\n    });\n    new window.google.maps.Marker({ position: center, map: map});\n\n}, [center, zoom]);\n\nreturn (\n    <div\n    ref={mapRef}\n    className={`map ${props.className}`}\n    style={props.style}\n    ></div>\n);\n};\n\nexport default Map;","import React, {useState} from 'react';\nimport './PlaceItem.css';\nimport Card from '../../elements/components/uielements/Card';\nimport Button from '../../elements/components/formelements/Button';\nimport Modal from '../../elements/components/uielements/Modal';\nimport Map from '../../elements/components/uielements/Map';\n\nconst PlaceItem = props => {\n\n    const [showMap, setShowMap] = useState(false);\n    const openMapHandler = () => setShowMap(true);\n    const closeMapHandler = () => setShowMap(false);\n\n   return(\n       <React.Fragment>\n   <Modal\n    show={showMap}\n    onCancel={closeMapHandler}\n    header={props.address}\n    contentClass=\"place-item__moal-content\"\n    footerClass=\"place-item__modal-actons\"\n    footer={<Button onClick={closeMapHandler}>닫기</Button>}\n    >\n        <div className=\"map-container\">\n            <Map center={props.coordinates} zoom={16}/>\n        </div>\n        <div className=\"modal-description\">\n            <p>{props.description}</p>\n        </div>\n\n    </Modal>\n\n\n\n   <li className=\"place-item\">\n        <Card className=\"place-item__content\">\n        <div className=\"place-item__image\">\n            <img src={props.image} alt={props.title}/>\n      </div>\n        <div className=\"place-item__info\">\n        <div className=\"place-item__info title\">\n            <p>{props.title}</p>\n            </div>\n            <div className=\"place-item__info address\">\n            <p>{props.address}</p>\n            </div>\n            \n        </div>\n        <div className=\"place-item__action\">\n \n        <div className=\"place-item__button__map\">\n            <Button onClick={openMapHandler}>지도 확인</Button>\n            </div>\n            <div className=\"place-item__button__update\">\n            <Button inverse to={`/places/${props.id}`}>수정</Button>\n            </div>\n        \n           </div>\n       \n        </Card>\n    </li>\n    </React.Fragment>\n   );\n};\n \nexport default PlaceItem;","import React from 'react';\nimport Card from '../../elements/components/uielements/Card';\nimport PlaceItem from './PlaceItem';\n\nimport './PlaceList.css';\n\n\nconst PlaceList = props => {\n    if (props.items.length === 0) {\nreturn ( <div className=\"place-list center\">\n<Card>\n    <h2>등록하신 장소가 없습니다. 새로운 장소를 등록해주세요.</h2>\n<button>장소 등록하기</button>\n</Card>\n</div>\n ); } \n\nreturn (\n<ul className=\"place-list\">\n{props.items.map(place => (\n<PlaceItem \nkey={place.id} \nid={place.id} \nimage={place.image}\ntitle={place.title}\ndescription={place.description}\naddress={place.address}\ncreatorId={place.creator}\ncoordinates={place.location}\nonDelete={props.onDeletePlace}\n/>\n))}\n\n</ul>\n);\n};\nexport default PlaceList;","import React from 'react';\nimport Modal from './Modal';\nimport Button from '../formelements/Button';\n\nconst ErrorModal = props => {\n    return (\n        <Modal\n        onCancel = {props.onClear}\n        header=\"다시 시도해주세요.\"\n        show={!!props.error}\n        footer={<Button onClick ={props.onClear}>확인</Button>}\n    >\n        <p>{props.error}</p>\n    </Modal>\n        );\n};\n\nexport default ErrorModal;","import React from 'react';\nimport './LoadingSpinner.css';\n\nconst LoadingSpinner = props => {\n    return (\n        <div className={`${props.asOverlay && 'spinner__overlay'}`}>\n         <div className=\"loading\"></div>\n        </div>\n    );\n};\nexport default LoadingSpinner;","import {useState, useCallback, useRef, useEffect} from 'react';\n\nexport const useHttpClient = () => {\n    const [isLoading, setIsLoading] = useState(false);\n    const [error, setError] = useState([]);\n\n    const activeHttpRequests = useRef([]);\n    const sendRequest = useCallback(\n    async (url, method = 'GET', body = null, headers = {}) => {\n        setIsLoading(true);\n        const httpAbortCtrl = new AbortController();\n        activeHttpRequests.current.push(httpAbortCtrl);\n\n        try {\n            const response = await fetch (url, {\n                method,\n                body,\n                headers,\n                signal: httpAbortCtrl.signal\n            });\n\n            const responseData = await response.json();\n\n            activeHttpRequests.current = activeHttpRequests.current.filter(\n                reqCtrl => reqCtrl !== httpAbortCtrl\n\n\n            );\n\n            if (!response.ok) {\n                throw new Error(responseData.message);\n            }\n\n            setIsLoading(false);\n            return responseData;\n        } catch (err) {\n            setError(err.message);\n            setIsLoading(false);\n            throw err;\n        }\n    },\n    []\n    );\n\nconst clearError = () => {\n    setError(null);\n};\n\nuseEffect(() => {\n    return () => {\n         // eslint-disable-next-line react-hooks/exhaustive-deps\n        activeHttpRequests.current.forEach(abortCtrl => abortCtrl.abort());\n    };\n    }, []);\n\n    return {isLoading, error, sendRequest, clearError};\n};","import React, {useEffect, useState} from 'react';\nimport PlaceList from '../components/PlaceList';\nimport ErrorModal from '../../elements/components/uielements/ErrorModal';\nimport LoadingSpinner from '../../elements/components/uielements/LoadingSpinner';\nimport {useHttpClient} from '../../elements/hooks/http-hook';\n\n   /* const DUMMY_PLACES =[\n    {id: 'p1',\ntitle: '솔밭식당',\ndescription: '한정식과 건강식을 함께 즐길 수 있는 곳',\nimage: 'https://post-phinf.pstatic.net/MjAyMDAxMDZfMTY4/MDAxNTc4Mjg1MzUzNzU5.ZCH7YKEi7KWTuE9N-g2o-4QZdreKZ-Aflm4BpvLZIZ0g.6Xd_wZpXB7y9uAAQ4RZ9YhumEmarhja-0cwdIkxgQjYg.JPEG/3%ED%94%8C%EB%9E%9C%ED%8A%B8.jpg?type=w1200',\naddress: '서울 강남구 역삼동 34-1',\nlocation: {\nlat:37.50766369999999,\nlng :127.0405894\n},\ncreator: 'u1'\n    },\n    {id: 'p2',\ntitle: '솔밭식당',\ndescription: '한정식과 건강식을 함께 즐길 수 있는 곳',\nimage: 'https://images.unsplash.com/photo-1544510806-07b18f692386?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60',\naddress: '서울 강남구 역삼동 34-1',\nlocation: {\nlat:37.50766369999999,\nlng :127.0405894\n},\ncreator: 'u2'\n    },\n    {id: 'p3',\ntitle: '솔밭식당',\ndescription: '한정식과 건강식을 함께 즐길 수 있는 곳',\nimage: 'https://images.unsplash.com/photo-1535923633864-cbf229ad891c?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1200&q=60',\naddress: '서울 강남구 역삼동 34-1',\nlocation: {\nlat:37.50766369999999,\nlng :127.0405894\n},\ncreator: 'u3'\n    },\n    \n    {id: 'p4',\ntitle: '솔밭식당',\ndescription: '한정식과 건강식을 함께 즐길 수 있는 곳',\nimage: 'https://images.unsplash.com/photo-1519996409144-56c88c9aa612?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60',\naddress: '서울 강남구 역삼동 34-1',\nlocation: {\nlat:37.50766369999999,\nlng :127.0405894\n},\ncreator: 'u4'\n    },\n    \n    {id: 'p5',\ntitle: '솔밭식당',\ndescription: '한정식과 건강식을 함께 즐길 수 있는 곳',\nimage: 'https://images.unsplash.com/photo-1493770348161-369560ae357d?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1200&q=60',\naddress: '서울 강남구 역삼동 34-1',\nlocation: {\nlat:37.50766369999999,\nlng :127.0405894\n},\ncreator: 'u5'\n    },\n    \n    {id: 'p6',\ntitle: '솔밭식당',\ndescription: '한정식과 건강식을 함께 즐길 수 있는 곳',\nimage: 'https://images.unsplash.com/photo-1540420773420-3366772f4999?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1200&q=60',\naddress: '서울 강남구 역삼동 34-1',\nlocation: {\nlat:37.50766369999999,\nlng :127.0405894\n},\ncreator: 'u6'\n    },\n    ];\n*/\n    const Places = () => { \n\nconst {isLoading, error, sendRequest, clearError} = useHttpClient();\nconst [loadedPlaces, setLoadedPlaces] = useState();\n\nuseEffect (() => {\n    const fetchPlaces = async() => {\n        try {\n            const responseData = await sendRequest (\n                'http://localhost:5000/api/places'\n               \n            );\n\n            setLoadedPlaces(responseData.places);\n        } catch (err) {}\n    };\n    fetchPlaces();\n}, [sendRequest]);\n\n\n    return (\n<React.Fragment>\n \n    {isLoading && (\n        <div className =\"center\">\n            <LoadingSpinner/>\n        </div>\n    )}\n    {!isLoading && loadedPlaces && <PlaceList items={loadedPlaces}/>}\n</React.Fragment>\n    );\n};\n\nexport default Places;\n\n","import React from 'react';\n\nimport Avatar from '../../elements/components/uielements/Avatar';\nimport Card from '../../elements/components/uielements/Card';\n\n\nimport './UserItem.css';\n\nconst UserItem = props => {\nreturn(\n    \n    <li className= \"user-item\">\n        <Card className=\"user-item__content\">\n            \n            <div className=\"user-item__image\">\n             <img src={`https://tebackend.herokuapp.com/${props.image}`} alt={props.name}/>\n             </div>\n             <div className=\"user-item__info\">\n                 <h2>{props.name}</h2>\n                <p>{props.email}</p>\n                 \n                 </div>          \n        </Card>\n    </li>\n    \n)\n};\n\nexport default UserItem;","import React from 'react';\n\nimport UserItem from './UserItem';\nimport Card from '../../elements/components/uielements/Card';\nimport './UserContainer.css';\n\nconst UserContainer = props => {\n  \n\n  return (\n    <ul className=\"users-list\">\n      {props.items.map(user => (\n        <UserItem\n          key={user.id}\n          id={user.id}\n          image={user.image}\n          name={user.name}\n          email={user.email}\n         \n        />\n      ))}\n    </ul>\n  );\n};\n\nexport default UserContainer;","import React, {useEffect, useState} from 'react';\nimport UserContainer from '../components/UserContainer';\nimport {useHttpClient} from '../../elements/hooks/http-hook';\nimport LoadingSpinner  from '../../elements/components/uielements/LoadingSpinner';\n\nconst User = () => {\n  const {isLoading, error, sendRequest, clearError} = useHttpClient();\n  const [loadedUser, setLoadedUser] = useState();\n   /* const USER_DATA = [\n      { id: 'u1',\n       name: 'pen',\n       image: 'https://images.unsplash.com/photo-1465101162946-4377e57745c3?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60',\n       places : 3\n\n    }\n    ]\n*/\nuseEffect (() => {\n  const fetchUser = async () => {\n    try {\n      const responseData = await sendRequest(\n        'https://tebackend.herokuapp.com/api/users/:uid'\n      );\n      setLoadedUser(responseData.users)\n    } catch(err) {}\n  };\n  fetchUser();\n},[sendRequest]);\n \n    return (\n    <React.Fragment>\n      {isLoading && (\n        <div className=\"center\">\n          <LoadingSpinner/>\n        </div>\n      )}\n      {\n        !isLoading &&\n        loadedUser &&\n     <UserContainer items={loadedUser}/>\n     }\n     </React.Fragment>\n    )\n};\n\nexport default User;","import {createContext} from 'react';\nexport const AuthContext = createContext({\n    isLoggedIn : false,\n    userId: null,\n    token: null,\n    login: () => {},\n    logout: () => {}\n});","import React, {useState, useContext} from 'react';\nimport './UserPlaceItem.css';\nimport Card from '../../elements/components/uielements/Card';\nimport Button from '../../elements/components/formelements/Button';\nimport Modal from '../../elements/components/uielements/Modal';\nimport Map from '../../elements/components/uielements/Map';\nimport './UserPlaceItem.css';\nimport LoadingSpinner from '../../elements/components/uielements/LoadingSpinner';\nimport {useHttpClient} from '../../elements/hooks/http-hook';\nimport { AuthContext } from '../../elements/context/auth-context';\n\nconst UserPlaceItem = props => {\nconst {isLoading, error, sendRequest, clearError} = useHttpClient();\nconst auth = useContext( AuthContext );\nconst [showMap, setShowMap] = useState(false);\nconst [showConfirmModal, setShowConfirmModal] = useState(false);\n\nconst openMapHandler = () => setShowMap(true);\nconst closeMapHandler = () => setShowMap(false);\n\nconst showDeleteWarningHandler = () => {\n    setShowConfirmModal(true);\n}\n\nconst cancelDeleteHandler = () => {\n    setShowConfirmModal(false);\n}\n\nconst confirmDeleteHandler = async () => {\n    setShowConfirmModal(false);\n    try {\n        await sendRequest(\n            `http://localhost:5000/api/places/${props.id}`,\n            'DELETE',\n            null,\n            {\n                Authorization: 'Bearer' + auth.token\n            }\n        );\n        props.onDelete(props.id);\n    } catch (err) {}\n};\n\n    return (\n\n        <React.Fragment>\n            <Modal\n            show={showMap}\n            onCancel={closeMapHandler}\n            header={props.address}\n            contentClass=\"user-place-item__modal-content\"\n            footerClass=\"user-place-item__modal-actions\"\n            footer={<Button onClick={closeMapHandler}>닫기</Button>}\n            >\n            <div className=\"user-map-container\">\n                <Map center={props.coordinates} zoom={16}/>\n            </div>\n            <div className=\"user-modal-description\">\n            <p>{props.description}</p>\n            </div>\n\n            </Modal>\n\n            <Modal\n            show={showConfirmModal}\n            onCancel={cancelDeleteHandler}\n            header=\"정말로 삭제하시겠습니까?\"\n            footerClass=\"user-place-item__modal-actions\"\n            footer={\n                <React.Fragment>\n                    <Button inverse onClick={cancelDeleteHandler}>\n                        취소\n                    </Button>\n                    <Button danger onClick={confirmDeleteHandler}>\n                        삭제\n                    </Button>\n                </React.Fragment>\n\n            }\n            >\n                <p>\n                    장소를 삭제하시는 경우 복원이 어렵습니다.\n                </p>\n            </Modal>\n    \n    \n    <li className=\"user-place-item\">\n        <Card className=\"user-place-item__content\">\n            {isLoading && <LoadingSpinner asOverlay/>}\n        <div className=\"user-place-item__image\">\n            <img src={props.image} alt={props.title}/>\n      </div>\n        <div className=\"user-place-item__info\">\n        <div className=\"user-place-item__info title\">\n            <p>{props.title}</p>\n            </div>\n            <div className=\"user-place-item__info address\">\n            <p>{props.address}</p>\n            </div>\n            <div className=\"user-place-item__info description\">\n            <p>{props.description}</p>\n            </div>\n        </div>\n        <div className=\"user-place-item__actions\">\n        <div className=\"user-place-item__button\">\n            <Button onClick={openMapHandler}>지도 확인</Button></div>\n            <div className=\"user-place-item__button\">\n            <Button inverse to ={`/places/${props.id}`}>수정</Button></div>\n            <div className=\"user-place-item__button\">\n                {auth.userId === props.creatorId && (\n            <Button danger onClick={showDeleteWarningHandler}>삭제</Button>\n                )}\n            </div>\n           </div>\n       \n        </Card>\n    </li>\n    </React.Fragment>\n    );\n};\n \nexport default UserPlaceItem;","import React from 'react';\nimport Card from '../../elements/components/uielements/Card';\nimport UserPlaceItem from './UserPlaceItem';\n\nimport './UserPlaceList.css';\n\n\nconst UserPlaceList = props => {\n    if (props.items.length === 0) {\nreturn ( <div className=\"user-place-list center\">\n<Card>\n    <h2>등록하신 장소가 없습니다. 새로운 장소를 등록해주세요.</h2>\n<button>장소 등록하기</button>\n</Card>\n</div>\n ); } \n\nreturn (\n<ul className=\"user-place-list\">\n{props.items.map(place => (\n<UserPlaceItem \nkey={place.id} \nid={place.id} \nimage={place.image}\ntitle={place.title}\ndescription={place.description}\naddress={place.address}\ncreatorId={place.creator}\ncoordinates={place.location}\nonDelete={props.onDeletePlace}\n/>\n))}\n\n</ul>\n);\n};\nexport default UserPlaceList;","import React, {useEffect, useState} from 'react';\nimport {useParams} from 'react-router-dom';\nimport UserPlaceList from '../components/UserPlaceList';\nimport LoadingSpinner from '../../elements/components/uielements/LoadingSpinner';\nimport {useHttpClient} from '../../elements/hooks/http-hook';\n\n\n\nimport './UserPlaces.css';\n\n\n/* const DUMMY_PLACES =[\n    {id: 'p1',\ntitle: '솔밭식당',\ndescription: '한정식과 건강식을 함께 즐길 수 있는 곳',\nimage: 'https://post-phinf.pstatic.net/MjAyMDAxMDZfMTY4/MDAxNTc4Mjg1MzUzNzU5.ZCH7YKEi7KWTuE9N-g2o-4QZdreKZ-Aflm4BpvLZIZ0g.6Xd_wZpXB7y9uAAQ4RZ9YhumEmarhja-0cwdIkxgQjYg.JPEG/3%ED%94%8C%EB%9E%9C%ED%8A%B8.jpg?type=w1200',\naddress: '서울 강남구 역삼동 34-1',\nlocation: {\nlat:37.50766369999999,\nlng :127.0405894\n},\ncreator: 'u1'\n    },\n    {id: 'p2',\ntitle: '솔밭식당',\ndescription: '한정식과 건강식을 함께 즐길 수 있는 곳',\nimage: 'https://images.unsplash.com/photo-1565893321847-76fe35a3032c?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1200&q=60',\naddress: '서울 강남구 역삼동 34-1',\nlocation: {\nlat:37.50766369999999,\nlng :127.0405894\n},\ncreator: 'u1'\n    },\n    {id: 'p3',\ntitle: '솔밭식당',\ndescription: '한정식과 건강식을 함께 즐길 수 있는 곳',\nimage: 'https://images.unsplash.com/photo-1516749396351-ab12ad535d7c?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1200&q=60',\naddress: '서울 강남구 역삼동 34-1',\nlocation: {\nlat:37.50766369999999,\nlng :127.0405894\n},\ncreator: 'u1'\n    },\n    \n    {id: 'p4',\ntitle: '솔밭식당',\ndescription: '한정식과 건강식을 함께 즐길 수 있는 곳',\nimage: 'https://post-phinf.pstatic.net/MjAyMDAxMDZfMTY4/MDAxNTc4Mjg1MzUzNzU5.ZCH7YKEi7KWTuE9N-g2o-4QZdreKZ-Aflm4BpvLZIZ0g.6Xd_wZpXB7y9uAAQ4RZ9YhumEmarhja-0cwdIkxgQjYg.JPEG/3%ED%94%8C%EB%9E%9C%ED%8A%B8.jpg?type=w1200',\naddress: '서울 강남구 역삼동 34-1',\nlocation: {\nlat:37.50766369999999,\nlng :127.0405894\n},\ncreator: 'u4'\n    },\n    \n    {id: 'p5',\ntitle: '솔밭식당',\ndescription: '한정식과 건강식을 함께 즐길 수 있는 곳',\nimage: 'https://post-phinf.pstatic.net/MjAyMDAxMDZfMTY4/MDAxNTc4Mjg1MzUzNzU5.ZCH7YKEi7KWTuE9N-g2o-4QZdreKZ-Aflm4BpvLZIZ0g.6Xd_wZpXB7y9uAAQ4RZ9YhumEmarhja-0cwdIkxgQjYg.JPEG/3%ED%94%8C%EB%9E%9C%ED%8A%B8.jpg?type=w1200',\naddress: '서울 강남구 역삼동 34-1',\nlocation: {\nlat:37.50766369999999,\nlng :127.0405894\n},\ncreator: 'u5'\n    },\n    \n    {id: 'p6',\ntitle: '솔밭식당',\ndescription: '한정식과 건강식을 함께 즐길 수 있는 곳',\nimage: 'https://post-phinf.pstatic.net/MjAyMDAxMDZfMTY4/MDAxNTc4Mjg1MzUzNzU5.ZCH7YKEi7KWTuE9N-g2o-4QZdreKZ-Aflm4BpvLZIZ0g.6Xd_wZpXB7y9uAAQ4RZ9YhumEmarhja-0cwdIkxgQjYg.JPEG/3%ED%94%8C%EB%9E%9C%ED%8A%B8.jpg?type=w1200',\naddress: '서울 강남구 역삼동 34-1',\nlocation: {\nlat:37.50766369999999,\nlng :127.0405894\n},\ncreator: 'u6'\n    },\n    ];\n*/\n    const UserPlaces = () => { \nconst [loadedUserPlaces, setLoadedUserPlaces] = useState();\nconst {isLoading, error, sendRequest, clearError } = useHttpClient();\nconst userId = useParams().userId;\n\nuseEffect (() => {\n    const fetchUserPlaces = async () => {\n        try {\n        const responseData = await sendRequest(\n            `https://tebackend.herokuapp.com/places/${userId}`\n        );\n        setLoadedUserPlaces(responseData.places);\n        } catch (err) {}\n    };\n    fetchUserPlaces();\n},[sendRequest, userId]);\n\nconst placeDeletedHandler = deletedPlaceId => {\n    setLoadedUserPlaces(prevPlaces =>\n        prevPlaces.filter(place => place.id !== deletedPlaceId)\n        );\n};\n\n\n    return (\n        <React.Fragment>\n    {isLoading && (\n        <div className=\"center\">\n            <LoadingSpinner/>\n        </div>\n    )}\n    {!isLoading && loadedUserPlaces && (\n\n    \n    <div className=\"user-places-table\">\n    <div className=\"user-places-table__title\">\n        <h3>내가 등록한 식당</h3>\n    </div>\n    <UserPlaceList items={loadedUserPlaces}  onDeletePlace={placeDeletedHandler}/>\n    </div> \n    )}\n    </React.Fragment>\n    );\n};\n\nexport default UserPlaces;\n\n","import React from 'react';\nimport User from '../../user/pages/User';\nimport UserPlaces from './UserPlaces';\nimport './UserAndUserPlaces.css';\nconst UserAndUserPlaces = () => {\n return (\n    <div className = \"user-and-userplaces\">\n     <div className = \"user-and-userplaces__title\">\n     <User/>\n     </div>\n     <div className = \"user-and-userplaces__places\">\n     <UserPlaces/>\n     </div>\n     </div>\n )\n}\n\nexport default UserAndUserPlaces;","const VALIDATOR_TYPE_REQUIRE = 'REQUIRE';\nconst VALIDATOR_TYPE_MINLENGTH = 'MINLENGTH';\nconst VALIDATOR_TYPE_MAXLENGTH = 'MAXLENGTH';\nconst VALIDATOR_TYPE_MIN = 'MIN';\nconst VALIDATOR_TYPE_MAX = 'MAX';\nconst VALIDATOR_TYPE_EMAIL = 'EMAIL';\nconst VALIDATOR_TYPE_FILE = 'FILE';\n\nexport const VALIDATOR_REQUIRE = () => ({ type: VALIDATOR_TYPE_REQUIRE });\nexport const VALIDATOR_FILE = () => ({ type: VALIDATOR_TYPE_FILE });\nexport const VALIDATOR_MINLENGTH = val => ({\n  type: VALIDATOR_TYPE_MINLENGTH,\n  val: val\n});\nexport const VALIDATOR_MAXLENGTH = val => ({\n  type: VALIDATOR_TYPE_MAXLENGTH,\n  val: val\n});\nexport const VALIDATOR_MIN = val => ({ type: VALIDATOR_TYPE_MIN, val: val });\nexport const VALIDATOR_MAX = val => ({ type: VALIDATOR_TYPE_MAX, val: val });\nexport const VALIDATOR_EMAIL = () => ({ type: VALIDATOR_TYPE_EMAIL });\n\nexport const validate = (value, validators) => {\n  let isValid = true;\n  for (const validator of validators) {\n    if (validator.type === VALIDATOR_TYPE_REQUIRE) {\n      isValid = isValid && value.trim().length > 0;\n    }\n    if (validator.type === VALIDATOR_TYPE_MINLENGTH) {\n      isValid = isValid && value.trim().length >= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_MAXLENGTH) {\n      isValid = isValid && value.trim().length <= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_MIN) {\n      isValid = isValid && +value >= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_MAX) {\n      isValid = isValid && +value <= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_EMAIL) {\n      isValid = isValid && /^\\S+@\\S+\\.\\S+$/.test(value);\n    }\n  }\n  return isValid;\n};","import React, {useReducer, useEffect} from 'react';\nimport {validate} from '../../util/validators';\nimport './Input.css';\n\nconst inputReducer = (state, action) => {\n    switch (action.type) {\n        case 'CHANGE':\n            return {\n                ...state,\n                value: action.val,\n                isValid: validate(action.val, action.validators )\n            };\n            case 'TOUCH' : {\n                return {\n                    ...state,\n                    isTouched: true\n                };\n            }\n            default:\n                return state;\n            }\n        };\n\n        const Input = props => {\n            const [inputState, dispatch] = useReducer(inputReducer, {\n                value: props.initialValue || '',\n                isTouched: false,\n                isValid: props.initailValid || false\n            });\n\n            const {id, onInput} = props;\n            const {value, isValid} = inputState;\n\n            useEffect(() => {\n                onInput(id, value, isValid)\n            }, [id, value, isValid, onInput]);\n\n            const changeHandler = event => {\n                dispatch({\n                    type: 'CHANGE',\n                    val: event.target.value,\n                    validators: props.validators\n                });\n            };\n            \n            const touchHandler = () => {\n                dispatch({\n                    type: 'TOUCH'\n                });\n            };\n\n            const element =\n            props.element === 'input' ? (\n                <input\n                id={props.id}\n                type={props.type}\n                placeholder={props.placeholder}\n                onChange={changeHandler}\n                onBlur={touchHandler}\n                value={inputState.value}\n                />\n            ) : (\n                <textarea \n                id={props.id}\n                rows={props.rows || 3}\n                onChange={changeHandler}\n                onBlur={touchHandler}\n                value={inputState.value}\n                />\n            );\n\n            return (\n                <div \n                className={`form-control ${!inputState.isValid &&\n                inputState.isTouched &&\n                'form-control-invalid'}`}\n                >\n                    <label htmlFor={props.id}>{props.label}</label>\n                    {element}\n                    {!inputState.isValid \n                    && inputState.isTouched \n                    && <p>{props.errorText}</p>}\n                </div>\n            );\n                    };\n            \n        export default Input;","import { useCallback, useReducer} from 'react';\n\nconst formReducer = (state, action) => {\n switch (action.type) {\n    case 'INPUT_CHNAGE' :\n        let formIsValid = true;\n        for (const inputId in state.inputs) {\n            if(!state.inputs[inputId]) {\n                continue;\n            }\n            if(inputId === action.inputId) {\n                formIsValid = formIsValid && action.isValid;\n            } else {\n                formIsValid =formIsValid && state.inputs[inputId].isValid;\n            }\n            }\n            return {\n                ...state,\n                inputs: {\n                    ...state.inputs,\n                    [action.inputId] : {value: action.value, isValid: action.isValid}\n                },\n                isValid: formIsValid\n                };\n            case 'SET_DATA' :\n                return {\n                    inputs: action.inputs,\n                    isValid: action.formIsValid\n                };\n            default:\n                return state;\n\n            }\n        };\n\nexport const useForm = (initialInputs, InitialFormValidity) => {\n    const [formState, dispatch] = useReducer(formReducer, {\n     inputs : initialInputs,\n     isValid : InitialFormValidity \n    });\n\n    const inputHandler = useCallback((id, value, isValid) => {\n        dispatch({\n            type: 'INPUT_CHANGE',\n            value: value,\n            isValid: isValid,\n            inputId: id\n        });\n    }, []);\n\n    const setFormData = useCallback((inputData, formValidity) => {\n        dispatch({\n            type: 'SET_DATA',\n            inputs: inputData,\n            formIsValid: formValidity\n        });\n    }, []);\n    return [formState, inputHandler, setFormData];\n    };","import React from 'react';\nimport Input from '../../elements/components/formelements/Input';\nimport Button from '../../elements/components/formelements/Button';\nimport {\n    VALIDATOR_REQUIRE,\n    VALIDATOR_MINLENGTH\n} from '../../elements/util/validators';\nimport { useForm} from '../../elements/hooks/form-hook';\nimport './NewPlace.css';\n\n\nconst NewPlace = () => {\n  const [formState, inputHandler] = useForm(\n    {\n        title: {\n            value: '',\n            isValid: false\n        },\n        description : {\n            value: '',\n            isValid: false\n        },\n        address: {\n            value: '',\n            isValid: false\n        }\n    },\n    false\n  );\n\n  const placeSubmitHandler = event => {\n      event.preventDefault();\n      console.log(formState.inputs);\n\n  };\n\n\n\n    return  ( \n    <form className=\"place-form\" onSubmit={placeSubmitHandler}>\n        <Input\n        id=\"title\"\n        element=\"input\" \n        type=\"text\" \n        label=\"식당 이름\"\n        validators={[VALIDATOR_REQUIRE()]}\n        errorText=\"등록할 식당 제목을 입력해주세요\"\n        onInput={inputHandler}\n        />\n        <Input\n        id=\"description\"\n        element=\"textarea\" \n        \n        label=\"자세한 이야기\"\n        validators={[VALIDATOR_MINLENGTH(5)]}\n        errorText=\"등록할 식당 설명을 입력해주세요\"\n        onInput={inputHandler}\n        />\n        <Input\n        id=\"address\"\n        element=\"input\" \n        \n        label=\"식당 주소\"\n        validators={[VALIDATOR_REQUIRE()]}\n        errorText=\"등록할 식당 주소를 입력해주세요\"\n        onInput={inputHandler}\n        />\n        <Button type=\"submit\" disabled={!formState.isValid}>\n            식당 등록하기\n        </Button>\n\n    </form>\n    );\n};\n\nexport default NewPlace;","import React from 'react';\n\nimport './MainHeader.css';\n\nconst MainHeader = props => {\n    return <header className=\"main-header\">{props.children}</header>\n};\nexport default MainHeader;\n","import React, {useContext} from 'react';\nimport {NavLink} from 'react-router-dom';\nimport {AuthContext} from '../context/auth-context';\nimport './NavLinks.css';\n\nconst NavLinks = props => {\nconst auth = useContext(AuthContext);\n\nreturn ( <ul className=\"nav-links\">\n    <li>\n        <NavLink to =\"/\" exact >\n            채식 식당 전체\n        </NavLink>\n    </li>\n    {auth.isLoggedIn && (\n    <li>\n      <NavLink to ={`/${auth.userId}/places`}>\n            내가 등록한 식당\n    </NavLink>\n    </li> \n    )}\n    {auth.isLoggedIn && (\n    <li>\n      <NavLink to =\"/places/new\"  >\n            채식 식당 등록하기\n    </NavLink>\n    </li>\n    )}\n    {!auth.isLoggedIn && (\n    <li>\n      <NavLink to =\"/auth\">\n            내가 등록한 식당\n    </NavLink>\n    </li> \n    )}\n    {!auth.isLoggedIn && (\n    <li>\n      <NavLink to =\"/auth\"  >\n            채식 식당 등록하기\n    </NavLink>\n    </li>\n    )}\n    {!auth.isLoggedIn &&(\n   \n    <li>\n      <NavLink to =\"/auth\"  >\n           로그인\n    </NavLink>\n    </li>\n    )}\n    {auth.isLoggedIn && (\n      <li>\n        <button onClick={auth.logout}>\n          로그아웃\n        </button>\n      </li>\n    )}\n    </ul>\n);  \n};\nexport default NavLinks;","import React from 'react';\nimport {Link} from 'react-router-dom';\n \n\nimport MainHeader from './MainHeader';\nimport NavLinks from './NavLinks';\nimport './MainNavigation.css';\n\nconst MainNavigation = props => {\n    return (\n        <MainHeader>\n         \n         \n      <h1 className=\"main-navigation__title\">\n        <Link to=\"/\">베지식당</Link>\n      </h1>\n      <nav className=\"main-navigation__header-nav\">\n       <NavLinks/>\n      </nav>  \n\n        </MainHeader>\n    );\n};\n\nexport default MainNavigation;","import React, {useRef, useState, useEffect} from 'react';\nimport Button from './Button';\nimport './ImageUpload.css';\n\nconst ImageUpload = props => {\n    const [file, setFile] = useState();\n    const [previewUrl, setPreviewUrl] = useState();\n    const [isValid, setIsValid] = useState(false);\n\n    const filePickerRef = useRef();\n\n    useEffect (() => {\n        if(!file) {\n            return;\n        }\n        const fileReader = new FileReader();\n        fileReader.onload = () => {\n            setPreviewUrl(fileReader.result);\n        };\n        fileReader.readAsDataURL(file); \n        }, [file]);\n\n        const pickedHandler = event => {\n            let pickedFile;\n            let fileIsValid = isValid;\n            if (event.target.files && event.target.files.length === 1) {\n                pickedFile = event.target.files[0];\n                setFile(pickedFile);\n                setIsValid(true);\n                fileIsValid = true;\n               }   else {\n                    setIsValid(false);\n                    fileIsValid = false;\n                }\n            \n            props.onInput(props.id, pickedFile, fileIsValid);\n\n        };\n\n        const pickImageHandler = () => {\n            filePickerRef.current.click();\n        };\n\n        return (\n            <div className=\"form-control\">\n                <input \n                id={props.id}\n                ref={filePickerRef}\n                style={{display:'none'}}\n                type=\"file\"\n                accept=\".jpg, .png, .jpeg\"\n                onChange={pickedHandler}\n                />\n                <div className={`image-upload ${props.center && 'center'}`}>\n                    <div className=\"image-upload__preview\">\n                        {previewUrl && <img src={previewUrl} alt=\"Preview\"/>}\n                        {!previewUrl && <p>업로드할 이미지를 정해주세요.</p>}\n                    </div>\n                    <Button type=\"button\" onClick={pickImageHandler}>\n                        이미지 업로드하기\n                    </Button>\n                </div>\n                {!isValid && <p>{props.errorText}</p>}\n            </div>\n        );\n    };\n\n    export default ImageUpload;","import React, {useState, useContext} from 'react';\nimport Card from '../../elements/components/uielements/Card';\nimport Input from '../../elements/components/formelements/Input';\nimport Button from '../../elements/components/formelements/Button';\nimport {\n    VALIDATOR_EMAIL,\n    VALIDATOR_MINLENGTH,\n    VALIDATOR_REQUIRE\n} from '../../elements/util/validators';\nimport {useForm} from '../../elements/hooks/form-hook';\nimport {AuthContext} from '../../elements/context/auth-context';\nimport './Auth.css';\nimport LoadingSpinner from '../../elements/components/uielements/LoadingSpinner';\nimport ErrorModal from '../../elements/components/uielements/ErrorModal';\nimport {useHttpClient} from '../../elements/hooks/http-hook';\nimport ImageUpload from '../../elements/components/formelements/ImageUpload';\n\nconst Auth = () => {\n  const auth = useContext(AuthContext);\n  const [isLoginMode, setIsLoginMode] = useState(true);\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\n\n  const [formState, inputHandler, setFormData] = useForm(\n    {\n      email: {\n        value: '',\n        isValid: false\n      },\n      password: {\n        value: '',\n        isValid: false\n      }\n    },\n    false\n  );\n\n  const switchModeHandler = () => {\n    if (!isLoginMode) {\n      setFormData(\n        {\n          ...formState.inputs,\n          name: undefined,\n          image: undefined\n        },\n        formState.inputs.email.isValid && formState.inputs.password.isValid\n      );\n    } else {\n      setFormData(\n        {\n          ...formState.inputs,\n          name: {\n            value: '',\n            isValid: false\n          },\n          image: {\n            value: null,\n            isValid: false\n          }\n        },\n        false\n      );\n    }\n    setIsLoginMode(prevMode => !prevMode);\n  };\n\n  const authSubmitHandler = async event => {\n    event.preventDefault();\n\n    if (isLoginMode) {\n      try {\n        const responseData = await sendRequest(\n          'http://localhost:5000/api/users/login',\n          'POST',\n          JSON.stringify({\n            email: formState.inputs.email.value,\n            password: formState.inputs.password.value\n          }),\n          {\n            'Content-Type': 'application/json'\n          }\n        );\n        auth.login(responseData.userId, responseData.token);\n      } catch (err) {}\n    } else {\n      try {\n        const formData = new FormData();\n        formData.append('email', formState.inputs.email.value);\n        formData.append('name', formState.inputs.name.value);\n        formData.append('password', formState.inputs.password.value);\n        formData.append('image', formState.inputs.image.value);\n        const responseData = await sendRequest(\n          'http://localhost:5000/api/users/signup',\n          'POST',\n          formData\n        );\n\n        auth.login(responseData.userId, responseData.token);\n      } catch (err) {}\n    }\n  };\n\n  return (\n    <React.Fragment>\n      <ErrorModal error={error} onClear={clearError} />\n      <Card className=\"authentication\">\n        {isLoading && <LoadingSpinner asOverlay />}\n        <h2>Login Required</h2>\n        <hr />\n        <form onSubmit={authSubmitHandler}>\n          {!isLoginMode && (\n            <Input\n              element=\"input\"\n              id=\"name\"\n              type=\"text\"\n              label=\"Your Name\"\n              validators={[VALIDATOR_REQUIRE()]}\n              errorText=\"Please enter a name.\"\n              onInput={inputHandler}\n            />\n          )}\n          {!isLoginMode && (\n            <ImageUpload\n              center\n              id=\"image\"\n              onInput={inputHandler}\n              errorText=\"Please provide an image.\"\n            />\n          )}\n          <Input\n            element=\"input\"\n            id=\"email\"\n            type=\"email\"\n            label=\"E-Mail\"\n            validators={[VALIDATOR_EMAIL()]}\n            errorText=\"Please enter a valid email address.\"\n            onInput={inputHandler}\n          />\n          <Input\n            element=\"input\"\n            id=\"password\"\n            type=\"password\"\n            label=\"Password\"\n            validators={[VALIDATOR_MINLENGTH(6)]}\n            errorText=\"Please enter a valid password, at least 6 characters.\"\n            onInput={inputHandler}\n          />\n          <Button type=\"submit\" disabled={!formState.isValid}>\n            {isLoginMode ? 'LOGIN' : 'SIGNUP'}\n          </Button>\n        </form>\n        <Button inverse onClick={switchModeHandler}>\n          SWITCH TO {isLoginMode ? 'SIGNUP' : 'LOGIN'}\n        </Button>\n      </Card>\n    </React.Fragment>\n  );\n};\n\nexport default Auth;","import React, {useEffect, useState} from 'react';\nimport {useParams, useHistory} from 'react-router-dom';\n\nimport Input from '../../elements/components/formelements/Input';\nimport Button from '../../elements/components/formelements/Button';\nimport Card from '../../elements/components/uielements/Card';\nimport {\n    VALIDATOR_REQUIRE,\n    VALIDATOR_MINLENGTH\n} from '../../elements/util/validators';\nimport LoadingSpinner from '../../elements/components/uielements/LoadingSpinner';\n\nimport { useForm } from '../../elements/hooks/form-hook';\nimport './UpdatePlace.css';\n\nconst DUMMY_PLACES =[\n    {id: 'p1',\ntitle: '솔밭식당',\ndescription: '한정식과 건강식을 함께 즐길 수 있는 곳',\nimage: 'https://post-phinf.pstatic.net/MjAyMDAxMDZfMTY4/MDAxNTc4Mjg1MzUzNzU5.ZCH7YKEi7KWTuE9N-g2o-4QZdreKZ-Aflm4BpvLZIZ0g.6Xd_wZpXB7y9uAAQ4RZ9YhumEmarhja-0cwdIkxgQjYg.JPEG/3%ED%94%8C%EB%9E%9C%ED%8A%B8.jpg?type=w1200',\naddress: '서울 강남구 역삼동 34-1',\nlocation: {\nlat:37.50766369999999,\nlng :127.0405894\n},\ncreator: 'u1'\n    },\n    {id: 'p2',\ntitle: '솔밭식당',\ndescription: '한정식과 건강식을 함께 즐길 수 있는 곳',\nimage: 'https://images.unsplash.com/photo-1544510806-07b18f692386?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60',\naddress: '서울 강남구 역삼동 34-1',\nlocation: {\nlat:37.50766369999999,\nlng :127.0405894\n},\ncreator: 'u2'\n    },\n    {id: 'p3',\ntitle: '솔밭식당',\ndescription: '한정식과 건강식을 함께 즐길 수 있는 곳',\nimage: 'https://images.unsplash.com/photo-1535923633864-cbf229ad891c?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1200&q=60',\naddress: '서울 강남구 역삼동 34-1',\nlocation: {\nlat:37.50766369999999,\nlng :127.0405894\n},\ncreator: 'u3'\n    },\n    \n    {id: 'p4',\ntitle: '솔밭식당',\ndescription: '한정식과 건강식을 함께 즐길 수 있는 곳',\nimage: 'https://images.unsplash.com/photo-1519996409144-56c88c9aa612?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60',\naddress: '서울 강남구 역삼동 34-1',\nlocation: {\nlat:37.50766369999999,\nlng :127.0405894\n},\ncreator: 'u4'\n    },\n    \n    {id: 'p5',\ntitle: '솔밭식당',\ndescription: '한정식과 건강식을 함께 즐길 수 있는 곳',\nimage: 'https://images.unsplash.com/photo-1493770348161-369560ae357d?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1200&q=60',\naddress: '서울 강남구 역삼동 34-1',\nlocation: {\nlat:37.50766369999999,\nlng :127.0405894\n},\ncreator: 'u5'\n    },\n    \n    {id: 'p6',\ntitle: '솔밭식당',\ndescription: '한정식과 건강식을 함께 즐길 수 있는 곳',\nimage: 'https://images.unsplash.com/photo-1540420773420-3366772f4999?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1200&q=60',\naddress: '서울 강남구 역삼동 34-1',\nlocation: {\nlat:37.50766369999999,\nlng :127.0405894\n},\ncreator: 'u6'\n    },\n    ];\n\n\n    const UpdatePlace = () => {\n        const [isLoading, setIsLoading] = useState(true);\n        const placeId = useParams().placeId;\n\n        const [formState, inputHandler, setFormData] = useForm(\n        {\n            title: {\n                value: '',\n                isValid: false\n            },\n            description: {\n                value: '',\n                isValid: false\n            }\n        },\n        false\n        );\n\n    const identifiedPlace = DUMMY_PLACES.find(p => p.id === placeId);\n\n\n    useEffect(() => {\n        if (identifiedPlace) {\n            setFormData (\n                {\n                title: {\n                    value: identifiedPlace.title,\n                    isValid: true\n                },\n                description : {\n                    value: identifiedPlace.description,\n                    isValid: true\n                }\n            },\n            true\n            );\n        }\n\n        setIsLoading(false);\n     }, [setFormData, identifiedPlace]);\n    const placeUpadateSubmitHandler = event => {\n        event.preventDefault();\n        console.log(formState.inputs);\n    };\n\n    if (!identifiedPlace) {\n      return (\n          <div className=\"center\">\n              <Card>\n                  <h2>식당을 찾을 수 없습니다.</h2>\n              </Card>\n          </div>\n      );\n    }\n\nif(isLoading) {\n    return (\n        <div className=\"center\">\n            <h2>로딩중...</h2>\n        </div>\n    );\n}\n\nreturn (\n    <form className=\"place-form\" onSubmit={placeUpadateSubmitHandler}>\n        <Input\n        id=\"title\"\n        element=\"input\"\n        type=\"text\"\n        label=\"식당 이름\"\n        validators={[VALIDATOR_REQUIRE()]}\n        errorText=\"변경할 식당 이름을 입력해주세요.\"\n        onInput={inputHandler}\n        initialValue={formState.inputs.title.value}\n        initialValid={formState.inputs.title.isValid}\n        />\n\n        <Input\n        id=\"description\"\n        element=\"textarea\"\n        label=\"자세한 설명\"\n        validator={[VALIDATOR_MINLENGTH(5)]}\n        errorText=\"변경할 설명을 입력해주세요.\"\n        onInput={inputHandler}\n        initialValue={formState.inputs.description.value}\n        initialValid={formState.inputs.description.isValid}\n   />\n   <Button type=\"submit\" disabled={!formState.isValid}>\n       업데이트\n   </Button>\n    </form>\n)\n\n    };\n\n    export default UpdatePlace;","\nimport React from 'react';\nimport {BrowserRouter as Router, Route, Redirect, Switch} from 'react-router-dom';\nimport Places from './places/pages/Places';\nimport UserAndUserPlaces from './places/pages/UserAndUserPlaces';\nimport NewPlace from './places/pages/NewPlace';\nimport MainNavigation from './elements/navigation/MainNavigaton';\nimport Auth from './user/pages/Auth';\nimport UpdatePlace from './places/pages/UpdatePlace';\nimport './App.css';\nimport {AuthContext} from './elements/context/auth-context';\nimport {useAuth} from './elements/hooks/auth-hook';\n\nconst App = () => {\n  const { token, login, logout, userId} = useAuth();\n  /* const [isLoggedIn, setIsLoggedIn] = useState(false);\n\n  const login= useCallback(\n    () => {\n      setIsLoggedIn(true)\n    },\n    [],\n  );\n\n  const logout = useCallback(\n    () => {\n      setIsLoggedIn(false);\n    },[]\n  );\n*/\n\n  let routes;\n\nif (token) {\n  routes= (\n    <Switch>\n     <Route path=\"/\" exact> \n       <Places/>\n      \n       \n       </Route>\n       <Route path=\"/:userId/places\" exact>\n            <UserAndUserPlaces/>\n          </Route>\n       <Route path=\"/places/new\" exact> \n       <NewPlace/>\n       </Route>\n       <Route path=\"/places/:placeId\" > \n       <UpdatePlace/>\n       </Route>\n      <Redirect to=\"/\"/>\n      </Switch>\n  );\n} else {\n  routes= (\n    <Switch>\n     <Route path=\"/\" exact> \n       <Places/>\n      \n       \n       </Route>\n       <Route path=\"/auth\" exact>\n       <Auth/>\n          </Route>\n       <Route path=\"auth\" exact> \n       <Auth/>\n       </Route>\n       <Route path=\"/auth\"> \n       <Auth/>\n       </Route>\n       \n        \n      <Redirect to=\"/auth\"/>\n      </Switch>\n  );\n}\n\n  return (\n   <AuthContext.Provider\n   value={{\n    isLoggedIn: !!token, \n    token: token, \n    userId: userId, \n    login: login, \n    logout: logout\n  }}\n  >\n    <Router>\n      <MainNavigation/>\n      <main>{routes}</main>\n    </Router>\n  </AuthContext.Provider>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  \n    <App />,\n \n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n\n"],"sourceRoot":""}